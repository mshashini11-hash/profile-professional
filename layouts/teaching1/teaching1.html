{{ define "main" }}

<style>
  /* Apply Crimson Pro and set larger font sizes */
  section, section p, section li, section span, section a, section blockquote, section figcaption {
    font-family: Georgia, Cambria, "Times New Roman", Times, serif;
    font-size: 20px;      /* body text */
    line-height: 2;     /* improves readability */
  }

  section h1 {
    font-size: 52px;      /* main page title */
  }

  section h2 {
    font-size: 42px;      /* subtopics */
  }

  section h3 {
    font-size: 36px;      /* university names */
  }

  section h4, section h5, section h6 {
    font-size: 26px;
  }

  span, a {
    font-size: 20px;      /* consistent with body text */
  }

  p {
    font-size: 20px;      /* slightly larger paragraphs */
  }
</style>

<section class="relative py-12 min-h-screen">

  <!-- Background behind main title -->
  <div class="absolute inset-x-0 top-0 h-33">
    <img src="/uploads/stacked-peaks.svg" class="w-full h-full object-cover opacity-60" />
    <div class="absolute inset-0 bg-gradient-to-b from-black/40 to-transparent"></div>
  </div>

  <!-- Content -->
  <div class="container mx-auto px-4 relative z-10">

    <!-- Main Page Title -->
    {{ with .Title }}
      <h1 class="text-4xl md:text-5xl font-extrabold mb-12 text-center text-white drop-shadow-lg relative z-10">{{ . }}</h1>
    {{ end }}

    <!-- Loop over universities -->
    {{ range .Params.universities }}
      <div class="mb-12 p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow duration-300">

        <!-- University Name -->
        <h2 class="text-2xl md:text-3xl font-bold mb-6 text-[#18453B]">{{ .name }}</h2>

        <!-- Loop over positions -->
        {{ range .positions }}
          <div class="mb-4 pl-4 border-l-4 border-[#18453B]" x-data="{ open: false }">

            <!-- Position Title: clickable for drop-down -->
            <button 
              class="w-full text-left block text-xl md:text-2xl font-semibold mb-2 text-[#18453B]" 
              @click="open = !open">
              {{ .title }}
            </button>

            <!-- Collapsible content -->
            <div x-show="open" x-transition class="pl-4 mt-2">

              <!-- Courses -->
              {{ with .courses }}
                <ul class="list-disc list-inside text-[#1C1C1C] ml-2">
                  {{ range . }}
                    <li class="mb-1">
                      <a href="{{ .url }}" class="hover:underline text-[#18453B]">{{ .name }}</a>
                      <span class="text-gray-700"> — {{ .semester }}</span>
                    </li>
                  {{ end }}
                </ul>
              {{ end }}

              <!-- Guest Lectures -->
              {{ with .guest_lectures }}
                <h4 class="mt-2 font-semibold text-[#18453B]">Guest Lectures:</h4>
                <ul class="list-disc list-inside text-[#1C1C1C] ml-2">
                  {{ range . }}
                    <li class="mb-1">
                      <a href="{{ .url }}" class="hover:underline text-[#18453B]">{{ .name }}</a>
                      <span class="text-gray-700"> — {{ .semester }}</span>
                    </li>
                  {{ end }}
                </ul>
              {{ end }}

            </div>
          </div>
        {{ end }}

      </div>
    {{ end }}

  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
{{ end }}


