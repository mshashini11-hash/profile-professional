{{ define "main" }}

<style>
  :root {
    --text-color: #1C1C1C;
    --heading-color: #18453B;
    --link-color: #18453B;
    --bg-color: #ffffff;
    --meta-color: #4a4a4a;
    --dropdown-bg: #f9f9f9;
    --dropdown-text: #1C1C1C;
  }

  @media (prefers-color-scheme: dark) {
    :root {
      --text-color: #f0f0f0;
      --heading-color: #a5f3fc;
      --link-color: #38bdf8;
      --bg-color: #121212;
      --meta-color: #cbd5e1;
      --dropdown-bg: #1e1e1e;
      --dropdown-text: #f0f0f0;
    }
  }

  body, section, main, main p, main li, main span, main a, main figcaption {
    font-family: 'Inter', sans-serif;
    font-size: 16px;
    line-height: 1.8;
    color: var(--text-color);
    background-color: var(--bg-color);
  }

  blockquote.intro-quote, blockquote {
    font-family: Georgia, Cambria, "Times New Roman", Times, serif;
    font-size: 20px;
    font-style: italic;
    text-align: center;
    margin-bottom: 1.5rem;
    color: var(--meta-color);
  }

  a {
    color: var(--link-color);
    transition: all 0.2s ease-in-out;
  }

  h1.main-title {
    color: white; /* always white */
  }

  h2, h3, h4, h5, h6 {
    color: var(--heading-color);
  }

  /* Cards and links inside */
  a.card, .card h2, .card p {
    color: var(--text-color);
    background-color: var(--bg-color);
  }

  /* Dropdown button and content */
  .dropdown-btn {
    color: var(--heading-color);
    background-color: var(--bg-color);
    font-weight: 600;
  }

  .dropdown-content {
    background-color: var(--dropdown-bg);
    color: var(--dropdown-text);
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;
    margin-top: 0.25rem;
  }

  .border-color {
    border-left-color: var(--heading-color);
  }
</style>


<style>
  /* Apply Inter for main content and keep blockquotes serif */
  section, main, main p, main li, main span, main a, main figcaption {
    font-family: 'Inter', sans-serif;
    font-size: 16px; /* body text */
    line-height: 1.8;
  }

  main h1 {
    font-size: 36px; /* main title */
  }

  main h2 {
    font-size: 28px; /* subtopics or section headings */
  }

  main h3 {
    font-size: 24px;
  }

  main h4, main h5, main h6 {
    font-size: 20px;
  }

  blockquote.intro-quote, blockquote {
    font-family: Georgia, Cambria, "Times New Roman", Times, serif;
    font-size: 20px;
    font-style: italic;
    text-align: center;
    margin-bottom: 1.5rem;
    color: #4a4a4a;
  }

  a {
    transition: all 0.2s ease-in-out;
  }
</style>

<section class="py-12 relative">

  <!-- Background behind main title -->
  <div class="absolute inset-x-0 top-0 h-36 md:h-34">
    <img src="/uploads/stacked-peaks.svg" class="w-full h-full object-cover opacity-60" />
    <div class="absolute inset-0 bg-gradient-to-b from-black/40 to-transparent"></div>
  </div>

  <div class="container mx-auto px-4 relative z-10">

    <!-- Main title -->
    {{ with .Title }}
      <h1 class="text-3xl md:text-4xl font-extrabold mb-8 text-center text-white drop-shadow-lg relative z-10">{{ . }}</h1>
    {{ end }}

    
    <!-- Projects grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
     {{ range .Pages.ByWeight }}
       <a href="{{ .RelPermalink }}" class="block bg-white rounded-xl shadow-md hover:shadow-lg transition p-4">
         {{ with .Params.image }}
           <img src="{{ . }}" alt="{{ $.Title }}" class="w-full h-48 object-cover rounded-lg mb-4">
         {{ end }}
         <h2 class="text-xl md:text-2xl font-semibold text-[#18453B] mb-2">{{ .Title }}</h2>
         <p class="text-gray-700 text-sm md:text-base">{{ .Params.summary }}</p>
       </a>
     {{ end }}
   </div>


    <!-- Topology papers -->
    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-[#18453B]">Topology</h2>
    <ol class="list-decimal list-inside space-y-1 mb-8">
      {{ $top := where site.RegularPages "Section" "topology" }}
      {{ range $top }}
        <li class="text-gray-800 text-sm md:text-base">
          {{ if .Params.citation }}
            {{ .Params.citation | safeHTML }}
          {{ else }}
            <strong>{{ .Title }}</strong>
            {{ with .Params.authors }} ({{ delimit . ", " }}){{ end }}.
            {{ with .Params.year }} ({{ . }}).{{ end }}
            {{ with .Params.journal }} <em>{{ . }}</em>,{{ end }}
            {{ with .Params.volume }} Vol. {{ . }},{{ end }}
            {{ with .Params.issue }} Issue {{ . }},{{ end }}
            {{ with .Params.pages }} pp. {{ . }}.{{ end }}
            {{ with .Params.doi }} DOI: <a href="{{ . }}" class="text-blue-600 font-bold hover:underline">{{ . }}</a>{{ end }}
          {{ end }}
          {{ with .Params.links }}
            <span class="space-x-2">
              {{ range . }}
                {{ if .name }}
                  <a href="{{ .url }}" target="_blank" class="text-blue-600 font-bold hover:underline">{{ .name }}</a>
                {{ end }}
              {{ end }}
            </span>
          {{ end }}
        </li>
      {{ end }}
    </ol>

    <!-- Education papers -->
    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-[#18453B]">Education</h2>
    <ol class="list-decimal list-inside space-y-1 mb-8">
      {{ $edu := where site.RegularPages "Section" "education" }}
      {{ range $edu }}
        <li class="text-gray-800 text-sm md:text-base">
          {{ if .Params.citation }}
            {{ .Params.citation | safeHTML }}
          {{ else }}
            <strong>{{ .Title }}</strong>
            {{ with .Params.authors }} ({{ delimit . ", " }}){{ end }}.
            {{ with .Params.year }} ({{ . }}).{{ end }}
            {{ with .Params.journal }} <em>{{ . }}</em>,{{ end }}
            {{ with .Params.volume }} Vol. {{ . }},{{ end }}
            {{ with .Params.issue }} Issue {{ . }},{{ end }}
            {{ with .Params.pages }} pp. {{ . }}.{{ end }}
            {{ with .Params.doi }} DOI: <a href="{{ . }}" class="text-blue-600 font-bold hover:underline">{{ . }}</a>{{ end }}
          {{ end }}
          {{ with .Params.links }}
            <span class="space-x-2">
              {{ range . }}
                {{ if .name }}
                  <a href="{{ .url }}" target="_blank" class="text-blue-600 font-bold hover:underline">{{ .name }}</a>
                {{ end }}
              {{ end }}
            </span>
          {{ end }}
        </li>
      {{ end }}
    </ol>

    <!-- Guest Talks -->
    <h2 class="text-2xl md:text-3xl font-bold mb-4 text-[#18453B]">Guest Talks</h2>
    <div class="space-y-3">
      {{ $talks := where site.RegularPages "Section" "guesttalks" }}
      {{ range $talks }}
        <div class="border-l-4 border-[#18453B] pl-4 pb-2" x-data="{ open: false }">
          
          <!-- Talk title -->
          <button class="w-full text-left text-lg md:text-xl font-semibold text-[#18453B]" @click="open = !open">
            {{ .Title }}
            <span x-text="open ? '▼' : '▶'" class="ml-2"></span>
          </button>

          <!-- Collapsible content -->
          <div x-show="open" x-transition class="mt-2 pl-4">
            
            {{ with .Params.date }}<div class="text-gray-700 text-sm md:text-base">Date: {{ . }}</div>{{ end }}
            {{ with .Params.event }}<div class="text-gray-700 text-sm md:text-base">Event: {{ . }}</div>{{ end }}

            {{ with .Params.links }}
              <div class="mt-2 space-x-2">
                {{ range . }}
                  {{ if .name }}
                    <a href="{{ .url }}" target="_blank" class="text-blue-600 font-bold hover:underline text-sm md:text-base">{{ .name }}</a>
                  {{ end }}
                {{ end }}
              </div>
            {{ end }}

            {{ with .Params.image }}
              <div class="mt-2">
                <img src="{{ . }}" alt="{{ .Title }}" class="w-full max-w-md rounded-lg shadow-md">
              </div>
            {{ end }}

            {{ with .Params.summary }}
              <p class="mt-2 text-gray-800 text-sm md:text-base">{{ . }}</p>
            {{ end }}

          </div>
        </div>
      {{ end }}
    </div>

  </div>
</section>

<script src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js" defer></script>
{{ end }}























































